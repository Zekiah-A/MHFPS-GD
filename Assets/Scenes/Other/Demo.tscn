[gd_scene load_steps=9 format=3 uid="uid://50iagylsnvng"]

[ext_resource type="Environment" uid="uid://c2175wqyoqwft" path="res://Assets/Scenes/Other/Demo/environment.tres" id="1"]
[ext_resource type="PackedScene" uid="uid://ddl54xkj5tq2i" path="res://Assets/Scenes/Player/Player.tscn" id="2"]
[ext_resource type="PackedScene" path="res://Assets/GameAssets/ModelScenes/GenericModel.tscn" id="4"]
[ext_resource type="PackedScene" uid="uid://bfwjs0hvu50sy" path="res://Assets/GameAssets/ModelScenes/WaterBottle.tscn" id="5_pbrdj"]

[sub_resource type="BoxShape3D" id="2"]
size = Vector3(20, 2, 20)

[sub_resource type="BoxShape3D" id="3"]

[sub_resource type="ConvexPolygonShape3D" id="4"]
points = PackedVector3Array(0, 0, 0, -1, 1, 2, 1, 1, 2, 1, -1, 2, -1, -1, 2)

[sub_resource type="ViewportTexture" id="9"]
viewport_path = NodePath("Actor/SubViewport")

[node name="Node3D" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("1")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.60948, 0.339214, -0.716567, -0.219775, 0.940709, 0.25839, 0.761731, 0, 0.647894, -2.66806, 5.21733, 3.86199)
shadow_enabled = true

[node name="Player" parent="." groups=["Actor"] instance=ExtResource("2")]

[node name="Map" type="Node3D" parent="." groups=["Environment"]]

[node name="StaticBody3D" type="StaticBody3D" parent="Map"]
transform = Transform3D(3, 0, 0, 0, 1, 0, 0, 0, 3, 6.53267e-05, 0.0166285, -0.0012641)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/StaticBody3D"]
transform = Transform3D(0.8, 0, 0, 0, 1, 0, 0, 0, 0.8, 0, -1, 0)
shape = SubResource("2")

[node name="CSGBox3D" type="CSGBox3D" parent="Map/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
size = Vector3(15.4, 1, 16)

[node name="StaticBody3" type="StaticBody3D" parent="Map"]
transform = Transform3D(3.05166, 0, 0, 0, 3.92039, 0, 0, 0, 2.78686, 6.53267e-05, 1.01198, 14.9841)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/StaticBody3"]
shape = SubResource("3")

[node name="CSGBox3D" type="CSGBox3D" parent="Map/StaticBody3"]

[node name="Actor" type="Node3D" parent="." groups=["Actor"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 2)

[node name="GenericModel" parent="Actor" instance=ExtResource("4")]

[node name="ActorWaiter" type="Timer" parent="Actor"]

[node name="ActorSight" type="Area3D" parent="Actor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Actor/ActorSight"]
transform = Transform3D(4, 0, 0, 0, 4, 0, 0, 0, 5, 0, 0, 0)
shape = SubResource("4")

[node name="ThoughtDisplayer" type="Sprite3D" parent="Actor"]
transform = Transform3D(0.3, 0, 0, 0, 0.3, 0, 0, 0, 0.3, 0, 3.75, 0)
texture = SubResource("9")

[node name="SubViewport" type="SubViewport" parent="Actor"]
transparent_bg = true
size = Vector2i(400, 150)

[node name="Control" type="Control" parent="Actor/SubViewport"]
layout_mode = 3
anchor_right = 0.391
anchor_bottom = 0.25
offset_right = 243.6
offset_bottom = 112.5

[node name="ThoughtLabel" type="Label" parent="Actor/SubViewport/Control"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "Hello World3D!"

[node name="WaterBottle" parent="." instance=ExtResource("5_pbrdj")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, -6.6, 0.3, 0)

[node name="WaterBottle2" parent="." instance=ExtResource("5_pbrdj")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, -6.9, 0.3, 0)

[node name="WaterBottle3" parent="." instance=ExtResource("5_pbrdj")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, -6.9, 0.3, 0.3)

[node name="WaterBottle4" parent="." instance=ExtResource("5_pbrdj")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, -6.6, 0.3, 0.3)

[editable path="Actor/GenericModel"]
